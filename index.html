<!DOCTYPE html>																									
<html lang="en">																									
<head>																									
	<meta charset="UTF-8" />																								
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />																								
	<title>Traigh Bhan Cabin Hub</title>																								
	<style>																								
		body {																							
			font-family: system-ui, sans-serif;																						
			margin: 0;																						
			padding: 0;																						
			background-color: #eef1f4;																						
			color: #333;																						
		}																							
		.nav {																							
			display: flex;																						
			background: #004d40;																						
			color: white;																						
			justify-content: space-around;																						
			padding: 12px 0;																						
			box-shadow: 0 2px 5px rgba(0,0,0,0.1);																						
			position: sticky;																						
			top: 0;																						
			z-index: 10;																						
		}
		.nav .selected {
			background: #00332c; /* darker green */
			color: #fff;
			border-radius: 6px;
			padding: 0 16px;
			transition: background 0.2s;
		}																							
		.nav div {																							
			cursor: pointer;																						
			font-weight: 500;																						
		}																							
		.section {																							
			display: none;																						
			padding: 24px 16px;																						
		}																							
		.section.active {																							
			display: block;																						
		}																							
		.card {																							
			background: white;																						
			padding: 24px;																						
			border-radius: 12px;																						
			margin-bottom: 24px;																						
			box-shadow: 0 4px 12px rgba(0,0,0,0.05);																						
			max-width: 700px;																						
			margin-left: auto;																						
			margin-right: auto;																						
		}																							
		h2 {																							
			margin-top: 0;																						
			font-size: 1.5em;																						
			color: #2c3e50;																						
		}																							
		a {																							
			color: #00695c;																						
			text-decoration: none;																						
			font-weight: 500;																						
		}																							
		a:hover {																							
			text-decoration: underline;																						
		}																							
		.stock-item {																							
			margin: 6px 0;																						
			padding: 6px 10px;																						
			border-radius: 4px;																						
		}																							
		.out {																							
			background-color: #fdecea;																						
			color: #c0392b;																						
		}																							
		.low {																							
			background-color: #fff4e5;																						
			color: #f39c12;																						
		}																							
		.dropdown-header {																							
			font-weight: bold;																						
			cursor: pointer;																						
			margin-bottom: 10px;																						
		}																							
		.dropdown-content {																							
			display: none;																						
			padding-left: 16px;																						
		}																							
		.dropdown-content.show {																							
			display: block;																						
		}																							
	</style>																								
</head>																									
<body>																									
	<div class="nav">																								
		<div id="nav-planning" onclick="showSection('planning')">Planning</div>																							
		<div id="nav-arrival" onclick="showSection('arrival')">Arrival</div>																							
		<div id="nav-departure" onclick="showSection('departure')">Departure</div>																							
	</div>																								
																									
	<div class="section" id="planning">																								
		<div class="card">																							
			<h2>Fuel Levels</h2>																						
			<div id="fuel-levels">Loading fuel levels...</div>																						
		</div>																							
																									
																									
		<div class="card">																							
			<h2>üõí Stock List</h2>																						
			<div class="dropdown-header" onclick="toggleDropdown('stock-dropdown')">‚ñ∂ View Items to Bring</div>																						
			<div class="dropdown-content" id="stock-dropdown">																						
				<p>Check below for current stock levels. Bring any out-of-stock or low items with you.</p>																					
				<div id="stock-list">Loading stock list...</div>																					
			</div>																						
		</div>																							
																									
		<div class="card">																							
			<h2>üéí Packing List</h2>																						
			<div class="dropdown-header" onclick="toggleDropdown('packing-dropdown')">‚ñ∂ What to Bring</div>																						
			<div class="dropdown-content" id="packing-dropdown">																						
				<ul>																					
					<li>Tea towels</li>																				
					<li>Bath towels</li>																				
					<li>Sleeping bags or single fitted sheets</li>																				
					<li>Pillowcases</li>																				
					<li>Duvet covers (single or double)</li>																				
				</ul>																					
				<p><strong>Note:</strong> Mattresses, pillows, and duvets are already in the cabin.</p>																					
				<p>Bedding available includes:</p>																					
				<ul>																					
					<li>2 double duvets</li>																				
					<li>4 single duvets</li>																				
					<li>1 zipped sleeping bag</li>																				
				</ul>																					
			</div>																						
		</div>																							
																									
		<div class="card">																							
			<h2>üóìÔ∏è Booking</h2>																						
			<a href="https://timetreeapp.com/" target="_blank">Open TimeTree Booking Calendar</a>																						
		</div>																							
	</div>																								
																									
	<div class="section" id="arrival">																								
		<div class="card">																							
			<h2>üíß Water System</h2>																						
			<div class="dropdown-header" onclick="toggleDropdown('arrival-water')">‚ñ∂ View Details</div>																						
			<div class="dropdown-content" id="arrival-water">																						
				<!-- ... content unchanged ... -->
			</div>																						
		</div>																							
		<!-- ... other cards unchanged ... -->
	</div>																								
																									
	<div class="section" id="departure">																								
		<div class="card">																							
			<h2>‚úÖ Cabin Departure Checklist</h2>																						
			<div class="dropdown-header" onclick="toggleDropdown('departure-checklist')">‚ñ∂ View Details</div>																						
			<div class="dropdown-content" id="departure-checklist">																						
				<!-- ... content unchanged ... -->
			</div>																						
		</div>																							
		<!-- ... other cards unchanged ... -->
	</div>																								
<script>
function showSection(id) {
	document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
	const el = document.getElementById(id);
	if (el) el.classList.add('active');

	// Remove selected from all nav tabs
	document.querySelectorAll('.nav div').forEach(tab => tab.classList.remove('selected'));
	// Add selected to the clicked tab
	const navTab = document.getElementById('nav-' + id);
	if (navTab) navTab.classList.add('selected');
}

document.addEventListener('DOMContentLoaded', () => showSection('planning'));

function toggleDropdown(id) {
	const content = document.getElementById(id);
	if (content) content.classList.toggle('show');
}

// Fetch and display stock
fetch('https://opensheet.elk.sh/1Jgcqq7O_yqY4ucZz-tvZLVRQGiXVSsUEoEAd1bM6uuQ/Stock%20Take')
.then(res => res.json())
.then(data => {
	const container = document.getElementById('stock-list');
	if (!container) return;
	container.innerHTML = '';
	data.forEach(row => {
		const level = row['Level']?.toLowerCase();
		const item = row['Item'];
		if (level === 'empty' || level === 'low') {
			const className = level === 'empty' ? 'out' : 'low';
			const div = document.createElement('div');
			div.className = `stock-item ${className}`;
			div.textContent = `${item} : ${level.toUpperCase()}`;
			container.appendChild(div);
		}
	});
	if (container.innerHTML === '') {
		container.textContent = 'Everything in stock!';
	}
})
.catch(() => {
	const container = document.getElementById('stock-list');
	if (container) container.textContent = 'Could not load stock list.';
});

// Fetch and display fuel levels
fetch('https://opensheet.elk.sh/1Jgcqq7O_yqY4ucZz-tvZLVRQGiXVSsUEoEAd1bM6uuQ/Fuel')
.then(res => res.json())
.then(data => {
	const container = document.getElementById('fuel-levels');
	if (!container) return;
	container.innerHTML = '';
	data.forEach(row => {
		const item = row['Item'];
		const level = row['Level'];
		const emoji = item.toLowerCase().includes('butane') ? 'üî•' :
			item.toLowerCase().includes('petrol') ? '‚õΩ' : 'üîã';
		const div = document.createElement('div');
		div.className = 'stock-item';
		div.textContent = `${emoji} ${item} : ${level}`;
		container.appendChild(div);
	});
})
.catch(() => {
	const container = document.getElementById('fuel-levels');
	if (container) container.textContent = 'Could not load fuel levels.';
});
</script>
</body>																									
</html>																									
